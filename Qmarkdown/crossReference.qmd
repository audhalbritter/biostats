```{r setup, include=FALSE}
library(palmerpenguins)
library(tidyverse)
source("../Templates/biostats_theme.R")
```

# Cross-referencing

Cross-referencing lets you refer to figures and tables in your document. Once set up, this happens automatically, so you don't need to re-number all the figures when you add or delete one.

## Cross-referencing figures and tables

The block that made the figure or table needs to have a label that starts with `fig-` or `tbl-`, respectively. The figure or table also need a caption.

```{r}
#| echo: fenced
#| label: fig-penguin-dens
#| fig-cap: Histogram of penguin body mass
#| warning: false

penguins |>
  ggplot(aes(x = flipper_length_mm, fill = species)) +
  geom_density(alpha = 0.7) +
  scale_fill_brewer(palette = "Set1")
```

To cross-reference the figure made by the above chunk, we need to use this notation.

``` markdown
Penguins are cool (@fig-penguin-dens)
```

[Penguins are cool (@fig-penguin-dens)]{style="background-color: Beige;"}

If you type an `@` in the visual editor it will make suggestion.

To refer to a table made by a block labelled `tbl-penguin-results`, you would use

``` markdown
Penguins are cool (@tbl-penguin-results))
```

If you get the chunk name wrong, there will be a warning when the document in knitted, and question marks shown where the reference should be.

``` markdown
Figure @fig-no-exist) does not exist
```

[Non-existing figure (@fig-no-exist))]{style="background-color: Beige;"}

## Cross-referencing equations

To cross-reference an equation, we need to give it a label.

``` markdown
$$
\frac{\sum_{i=1}^{n}{x_i}}{n}
$${#eq-mean}
```

Now the label can be used.

``` markdown
The mean (equation @eq-mean).
```

$$
\frac{\sum_{i=1}^{n}{x_i}}{n}
$$ {#eq-mean}

[The mean (equation @eq-mean).]{style="background-color: Beige;"}

## Cross-referencing document sections  {#cross-referencing-document-sections-}

##TODO## fragile ##You can also refer to other sections of the document using the title/subtitle. For example, to refer to this section, you would use

``` markdown
Cross-referencing (Section \@ref(cross-referencing-document-sections))
```

[Cross-referencing (Section \@ref(cross-referencing-document-sections))]{style="background-color: Beige;"}

Note that the reference must be written in lower case and spaces must be replaced by hyphens. Punctuation is deleted.
