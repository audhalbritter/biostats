<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>5 Citations and bibliographies | R Markdown</title>
<meta name="author" content="Richard J Telford">
<meta name="description" content='R markdown can add citations and a bibliography to a document. Use the bibliography field in the YAML to point to the bibliography file. ---title: "My Manuscript"output: html_documentbibliography:...'>
<meta name="generator" content="bookdown 0.23 with bs4_book()">
<meta property="og:title" content="5 Citations and bibliographies | R Markdown">
<meta property="og:type" content="book">
<meta property="og:description" content='R markdown can add citations and a bibliography to a document. Use the bibliography field in the YAML to point to the bibliography file. ---title: "My Manuscript"output: html_documentbibliography:...'>
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="5 Citations and bibliographies | R Markdown">
<meta name="twitter:description" content='R markdown can add citations and a bibliography to a document. Use the bibliography field in the YAML to point to the bibliography file. ---title: "My Manuscript"output: html_documentbibliography:...'>
<!-- JS --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://kit.fontawesome.com/6ecbd6c532.js" crossorigin="anonymous"></script><script src="libs/header-attrs-2.10/header-attrs.js"></script><script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="libs/bootstrap-4.6.0/bootstrap.min.css" rel="stylesheet">
<script src="libs/bootstrap-4.6.0/bootstrap.bundle.min.js"></script><script src="libs/bs3compat-0.2.5.1/tabs.js"></script><script src="libs/bs3compat-0.2.5.1/bs3compat.js"></script><link href="libs/bs4_book-1.0.0/bs4_book.css" rel="stylesheet">
<script src="libs/bs4_book-1.0.0/bs4_book.js"></script><script src="libs/kePrint-0.0.1/kePrint.js"></script><link href="libs/lightable-0.0.1/lightable.css" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- CSS --><link rel="stylesheet" href="css/style-chapters.css">
</head>
<body data-spy="scroll" data-target="#toc">

<div class="container-fluid">
<div class="row">
  <header class="col-sm-12 col-lg-3 sidebar sidebar-book"><a class="sr-only sr-only-focusable" href="#content">Skip to main content</a>

    <div class="d-flex align-items-start justify-content-between">
      <h1>
        <a href="index.html" title="">R Markdown</a>
      </h1>
      <button class="btn btn-outline-primary d-lg-none ml-2 mt-1" type="button" data-toggle="collapse" data-target="#main-nav" aria-expanded="true" aria-controls="main-nav"><i class="fas fa-bars"></i><span class="sr-only">Show table of contents</span></button>
    </div>

    <div id="main-nav" class="collapse-lg">
      <form role="search">
        <input id="search" class="form-control" type="search" placeholder="Search" aria-label="Search">
</form>

      <nav aria-label="Table of contents"><h2>Table of contents</h2>
        <ul class="book-toc list-unstyled">
<li><a class="" href="index.html"><span class="header-section-number">1</span> Introduction</a></li>
<li class="book-part">First steps in R markdown</li>
<li><a class="" href="getting-started.html"><span class="header-section-number">2</span> Getting started</a></li>
<li><a class="" href="elements-of-an-r-markdown-file.html"><span class="header-section-number">3</span> Elements of an R markdown file</a></li>
<li><a class="" href="figures-tables-and-equations.html"><span class="header-section-number">4</span> Figures, tables and equations</a></li>
<li class="book-part">Towards a manuscript</li>
<li><a class="active" href="citations-and-bibliographies.html"><span class="header-section-number">5</span> Citations and bibliographies</a></li>
<li><a class="" href="cross-referencing.html"><span class="header-section-number">6</span> Cross-referencing</a></li>
<li><a class="" href="formatting-for-a-journal.html"><span class="header-section-number">7</span> Formatting for a journal</a></li>
<li><a class="" href="other-topics.html"><span class="header-section-number">8</span> Other topics</a></li>
<li class="book-part">Presentations</li>
<li><a class="" href="presentations-in-r-markdown.html"><span class="header-section-number">9</span> Presentations in R markdown</a></li>
<li class="book-part">Troubleshooting</li>
<li><a class="" href="troubleshooting.html"><span class="header-section-number">10</span> Troubleshooting</a></li>
<li><a class="" href="title.html"><span class="header-section-number">11</span> Title</a></li>
</ul>

        <div class="book-extra">
          
        </div>
      </nav>
</div>
  </header><main class="col-sm-12 col-md-9 col-lg-7" id="content"><div id="citations-and-bibliographies" class="section level1" number="5">
<h1>
<span class="header-section-number">5</span> Citations and bibliographies<a class="anchor" aria-label="anchor" href="#citations-and-bibliographies"><i class="fas fa-link"></i></a>
</h1>
<p>R markdown can add citations and a bibliography to a document.
Use the bibliography field in the YAML to point to the bibliography file.</p>
<pre><code class="language-r"><code>---<br>title: "My Manuscript"<br>output: html_document<br><span style="background-color:#ffff7f">bibliography: reproducibility.bib</span><br>---</code></code></pre>
<p>The bibliography file can be in one of several formats, including bibTeX (*.bib) and endnote (*.enl).
Any reference manager should be able to export to a bibTeX file.</p>
<div id="bibliography-placement" class="section level2" number="5.1">
<h2>
<span class="header-section-number">5.1</span> Bibliography placement<a class="anchor" aria-label="anchor" href="#bibliography-placement"><i class="fas fa-link"></i></a>
</h2>
<p>By default, the bibliography is placed at the end of the document.
It is a good idea to end the R markdown file with an appropriate header.</p>
<pre><code class="language-r"><code># Conclusions<br><br>R markdown is cool.<br><br><span style="background-color:#ffff7f"># References {-}</span></code></code></pre>
<p>The <code>{-}</code> stops R markdown from numbering the reference section header.</p>
<p>If you want to move the bibliography, for example because you need to finish with an appendix, you need to use this bit of magic.
You also need to use the output format <code><a href="https://pkgs.rstudio.com/bookdown/reference/html_document2.html">bookdown::html_document2</a></code> in the YAML.</p>
<pre><code class="language-r"><code># Conclusions<br><br>R markdown is very cool.<br><br># References {-}<br><br><span style="background-color:#ffff7f">&lt;div id="refs"&gt;&lt;/div&gt;</span><br><br># Appendix A</code></code></pre>
</div>
<div id="citations" class="section level2" number="5.2">
<h2>
<span class="header-section-number">5.2</span> Citations<a class="anchor" aria-label="anchor" href="#citations"><i class="fas fa-link"></i></a>
</h2>
<p>Use the citation keys from the bibliography to cite the reference in the text.
So to cite the reference with the citation key “Cooper2017” we would use.</p>
<pre><code>Reproducible code [@Cooper2017] ...
@Cooper2017 discuss ... </code></pre>
<p>The output depends on the csl file.
Using the default author-date style gives</p>
<hr>
<span style="background-color: Beige;">
Reproducible code <span class="citation">(Cooper and Hsing 2017)</span> …<br><span class="citation">Cooper and Hsing (2017)</span> discuss …<br></span>
<hr>
<p>The <code>citr</code> package [install from <a href="https://github.com/crsh/citr">GitHub</a>] makes an RStudio add-in for adding citations to the text from the bibliograpy.</p>
</div>
<div id="citation-style" class="section level2" number="5.3">
<h2>
<span class="header-section-number">5.3</span> Citation style<a class="anchor" aria-label="anchor" href="#citation-style"><i class="fas fa-link"></i></a>
</h2>
<p>If you don’t like the default citation style, or you want to submit a manuscript to a journal with an overly pedantic editor, you can change the citation style by specifying a csl file in the YAML.</p>
<pre><code class="language-r"><code>---<br>title: "My Manuscript"<br>output: html_document<br>bibliography: reproducibility.bib<br><span style="background-color:#ffff7f">csl: plos-one.csl</span><br>---</code></code></pre>
<p>The csl (Citation Style Language) file defines the citation style.
There are many citation style available from <a href="http://zotero.org/styles" class="uri">http://zotero.org/styles</a>.</p>
</div>
<div id="citation-problems" class="section level2" number="5.4">
<h2>
<span class="header-section-number">5.4</span> Citation problems<a class="anchor" aria-label="anchor" href="#citation-problems"><i class="fas fa-link"></i></a>
</h2>
<p>Unfortunately, there can be problems with the bibliography and citation.
Most can be solved by googling the error message.
A few common problems are addressed here.</p>
<div id="incorrect-capitalisation" class="section level3" number="5.4.1">
<h3>
<span class="header-section-number">5.4.1</span> Incorrect capitalisation<a class="anchor" aria-label="anchor" href="#incorrect-capitalisation"><i class="fas fa-link"></i></a>
</h3>
<p>Many CLS styles convert the title to title case (i.e. only first letter of the first word is capitalised).
This can be annoying as names (people, countries, species) can be given in the wrong case.</p>
<p>A paper with the title</p>
<p><code>Population ecology of polar bears at Svalbard, Norway.</code></p>
<p>may appear as</p>
<p><code>Population ecology of polar bears at svalbard, norway.</code></p>
<p>This can be fixed by editing the bibtex file, putting braces around the word with capitals that need to be kept.</p>
<p><code>Population ecology of polar bears at {Svalbard}, {Norway}.</code></p>
</div>
<div id="accents-and-other-special-characters" class="section level3" number="5.4.2">
<h3>
<span class="header-section-number">5.4.2</span> Accents and other special characters<a class="anchor" aria-label="anchor" href="#accents-and-other-special-characters"><i class="fas fa-link"></i></a>
</h3>
<p>The tool-chain that processes R markdown files can sometimes fall over with accented characters or other diacritic marks in the references.
The error message will look something like this</p>
<pre><code>! Package inputenc Error: Unicode character ́ (U+0301)  
(inputenc)                not set up for use with LaTeX.</code></pre>
<p>One solution is to edit the bibtex file to replace the accented character with an <a href="https://en.wikibooks.org/wiki/LaTeX/Special_Characters#Escaped_codes">escaped code</a>.
For example, the “í” in “Martínez” could be replaced by “\’{i}.”</p>
</div>
</div>
</div>
  <div class="chapter-nav">
<div class="prev"><a href="figures-tables-and-equations.html"><span class="header-section-number">4</span> Figures, tables and equations</a></div>
<div class="next"><a href="cross-referencing.html"><span class="header-section-number">6</span> Cross-referencing</a></div>
</div></main><div class="col-md-3 col-lg-2 d-none d-md-block sidebar sidebar-chapter">
    <nav id="toc" data-toggle="toc" aria-label="On this page"><h2>On this page</h2>
      <ul class="nav navbar-nav">
<li><a class="nav-link" href="#citations-and-bibliographies"><span class="header-section-number">5</span> Citations and bibliographies</a></li>
<li><a class="nav-link" href="#bibliography-placement"><span class="header-section-number">5.1</span> Bibliography placement</a></li>
<li><a class="nav-link" href="#citations"><span class="header-section-number">5.2</span> Citations</a></li>
<li><a class="nav-link" href="#citation-style"><span class="header-section-number">5.3</span> Citation style</a></li>
<li>
<a class="nav-link" href="#citation-problems"><span class="header-section-number">5.4</span> Citation problems</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#incorrect-capitalisation"><span class="header-section-number">5.4.1</span> Incorrect capitalisation</a></li>
<li><a class="nav-link" href="#accents-and-other-special-characters"><span class="header-section-number">5.4.2</span> Accents and other special characters</a></li>
</ul>
</li>
</ul>

      <div class="book-extra">
        <ul class="list-unstyled">
          
        </ul>
</div>
    </nav>
</div>

</div>
</div> <!-- .container -->

<footer class="bg-primary text-light mt-5"><div class="container"><div class="row">

  <div class="col-12 col-md-6 mt-3">
    <p>"<strong>R Markdown</strong>" was written by Richard J Telford. It was last built on 2021-09-20.</p>
  </div>

  <div class="col-12 col-md-6 mt-3">
    <p>This book was built by the <a class="text-light" href="https://bookdown.org">bookdown</a> R package.</p>
  </div>

</div></div>
</footer><!-- dynamically load mathjax for compatibility with self-contained --><script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script><script type="text/x-mathjax-config">const popovers = document.querySelectorAll('a.footnote-ref[data-toggle="popover"]');
for (let popover of popovers) {
  const div = document.createElement('div');
  div.setAttribute('style', 'position: absolute; top: 0, left:0; width:0, height:0, overflow: hidden; visibility: hidden;');
  div.innerHTML = popover.getAttribute('data-content');

  var has_math = div.querySelector("span.math");
  if (has_math) {
    document.body.appendChild(div);
    MathJax.Hub.Queue(["Typeset", MathJax.Hub, div]);
    MathJax.Hub.Queue(function() {
      popover.setAttribute('data-content', div.innerHTML);
      document.body.removeChild(div);
    })
  }
}
</script>
</body>
</html>
