<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>3 Elements of an R markdown file | R Markdown</title>
<meta name="author" content="Richard J Telford">
<meta name="generator" content="bookdown 0.23 with bs4_book()">
<meta property="og:title" content="3 Elements of an R markdown file | R Markdown">
<meta property="og:type" content="book">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="3 Elements of an R markdown file | R Markdown">
<!-- JS --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://kit.fontawesome.com/6ecbd6c532.js" crossorigin="anonymous"></script><script src="libs/header-attrs-2.10/header-attrs.js"></script><script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="libs/bootstrap-4.6.0/bootstrap.min.css" rel="stylesheet">
<script src="libs/bootstrap-4.6.0/bootstrap.bundle.min.js"></script><script src="libs/bs3compat-0.2.5.1/tabs.js"></script><script src="libs/bs3compat-0.2.5.1/bs3compat.js"></script><link href="libs/bs4_book-1.0.0/bs4_book.css" rel="stylesheet">
<script src="libs/bs4_book-1.0.0/bs4_book.js"></script><script src="libs/kePrint-0.0.1/kePrint.js"></script><link href="libs/lightable-0.0.1/lightable.css" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- CSS --><link rel="stylesheet" href="css/style-chapters.css">
<meta name="description" content="3.1 YAML The YAML is metadata for the document that goes right at the top of the file. It can set the document author and title, the output format and many other things. YAML format can be...">
<meta property="og:description" content="3.1 YAML The YAML is metadata for the document that goes right at the top of the file. It can set the document author and title, the output format and many other things. YAML format can be...">
<meta name="twitter:description" content="3.1 YAML The YAML is metadata for the document that goes right at the top of the file. It can set the document author and title, the output format and many other things. YAML format can be...">
</head>
<body data-spy="scroll" data-target="#toc">

<div class="container-fluid">
<div class="row">
  <header class="col-sm-12 col-lg-3 sidebar sidebar-book"><a class="sr-only sr-only-focusable" href="#content">Skip to main content</a>

    <div class="d-flex align-items-start justify-content-between">
      <h1>
        <a href="index.html" title="">R Markdown</a>
      </h1>
      <button class="btn btn-outline-primary d-lg-none ml-2 mt-1" type="button" data-toggle="collapse" data-target="#main-nav" aria-expanded="true" aria-controls="main-nav"><i class="fas fa-bars"></i><span class="sr-only">Show table of contents</span></button>
    </div>

    <div id="main-nav" class="collapse-lg">
      <form role="search">
        <input id="search" class="form-control" type="search" placeholder="Search" aria-label="Search">
</form>

      <nav aria-label="Table of contents"><h2>Table of contents</h2>
        <ul class="book-toc list-unstyled">
<li class="book-part">First steps in R markdown</li>
<li><a class="" href="introduction.html"><span class="header-section-number">1</span> Introduction</a></li>
<li><a class="" href="getting-started.html"><span class="header-section-number">2</span> Getting started</a></li>
<li><a class="active" href="elements-of-an-r-markdown-file.html"><span class="header-section-number">3</span> Elements of an R markdown file</a></li>
<li><a class="" href="figures-tables-and-equations.html"><span class="header-section-number">4</span> Figures, tables and equations</a></li>
<li class="book-part">Towards a manuscript</li>
<li><a class="" href="citations-and-bibliographies.html"><span class="header-section-number">5</span> Citations and bibliographies</a></li>
<li><a class="" href="cross-referencing.html"><span class="header-section-number">6</span> Cross-referencing</a></li>
<li><a class="" href="formatting-for-a-journal.html"><span class="header-section-number">7</span> Formatting for a journal</a></li>
<li><a class="" href="other-topics.html"><span class="header-section-number">8</span> Other topics</a></li>
<li class="book-part">Troubleshooting</li>
<li><a class="" href="troubleshooting.html"><span class="header-section-number">9</span> Troubleshooting</a></li>
</ul>

        <div class="book-extra">
          
        </div>
      </nav>
</div>
  </header><main class="col-sm-12 col-md-9 col-lg-7" id="content"><div id="elements-of-an-r-markdown-file" class="section level1" number="3">
<h1>
<span class="header-section-number">3</span> Elements of an R markdown file<a class="anchor" aria-label="anchor" href="#elements-of-an-r-markdown-file"><i class="fas fa-link"></i></a>
</h1>
<div id="yaml" class="section level2" number="3.1">
<h2>
<span class="header-section-number">3.1</span> YAML<a class="anchor" aria-label="anchor" href="#yaml"><i class="fas fa-link"></i></a>
</h2>
<p>The YAML is metadata for the document that goes right at the top of the file.
It can set the document author and title, the output format and many other things.
YAML format can be difficult to get right as it is sensitive to white space.
You can use an RStudio Addin from the package <code>ymlthis</code> to help write the YAML.</p>
<div id="r-code-in-yaml" class="section level3" number="3.1.1">
<h3>
<span class="header-section-number">3.1.1</span> R code in YAML<a class="anchor" aria-label="anchor" href="#r-code-in-yaml"><i class="fas fa-link"></i></a>
</h3>
<p>It is possible to add R code to the YAML, for example to show the current date.
The R code needs to be enclosed in quote marks AND back-ticks with an <code>r</code> before the code.
If the code contains quotemarks, then they need to be different from the enclosing quotemarks (i.e. single vs double quotes).</p>
<p>See the data-time tutorial for more about the codes in <code>"%d %B %Y"</code>.</p>
</div>
<div id="output-formats" class="section level3" number="3.1.2">
<h3>
<span class="header-section-number">3.1.2</span> Output formats<a class="anchor" aria-label="anchor" href="#output-formats"><i class="fas fa-link"></i></a>
</h3>
<p>R markdown documents can be rendered in many different output formats, including</p>
<ul>
<li>presentations (with <a href="https://bookdown.org/yihui/rmarkdown/xaringan.html"><code>xaringan::moon_reader</code></a> or <a href="https://bookdown.org/yihui/rmarkdown/ioslides-presentation.html">ioslides</a>)</li>
<li>posters (with <a href="https://cran.r-project.org/web/packages/posterdown/"><code>posterdown</code></a>)</li>
<li>books (with <a href="https://bookdown.org/yihui/bookdown/"><code>bookdown</code></a>).</li>
<li>theses (with <a href="https://github.com/ismayc/thesisdown"><code>thesisdown</code></a>)</li>
</ul>
<p>This tutorial focuses on documents like reports.</p>
<p>There is a choice of output format for documents.
This can be specified when the R markdown file is created in RStudio or by editing the YAML.</p>
<p>Producing an html file to view in a browser is the simplest, as nothing extra needs installing.
The YAML should look something like this.</p>
<p>Word documents are also easy; just change the output to <code>word_document</code>.
This can be very useful if you have a supervisor or collaborators who cannot cope with R markdown directly, but consider using the <a href="https://noamross.github.io/redoc/index.html"><code>redoc</code></a> package which lets you convert an edited word document back into R markdown.</p>
<p>Rendering the R markdown file as a PDF requires some external tools (LaTeX) to be installed.
This can be done with the <code>tinytxt package</code>.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># run this only once</span>
<span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html">install.packages</a></span><span class="op">(</span><span class="st">'tinytex'</span><span class="op">)</span>
<span class="fu">tinytex</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/tinytex/man/install_tinytex.html">install_tinytex</a></span><span class="op">(</span><span class="op">)</span></code></pre></div>
<p>Then the output format in the YAML can be changed to <code>pdf_document</code>.</p>
</div>
</div>
<div id="text" class="section level2" number="3.2">
<h2>
<span class="header-section-number">3.2</span> Text<a class="anchor" aria-label="anchor" href="#text"><i class="fas fa-link"></i></a>
</h2>
<p>Type to make text!
RStudio has a built-in spell checker that will underline words it doesn’t recognise in red.
Go to “Tools” &gt;&gt; “Global Options…” &gt;&gt; “Spelling” to change the language.</p>
<p>Paragraphs have a blank line between them.
It is good practice to write one sentence per line.
The extra line breaks will be removed when the document in knitted.
If you want to force a line break, put two spaces at the end of the line.</p>
<p>Formatting is generated with some special characters.
For example:</p>
<ul>
<li># Title</li>
<li>## Subtitle</li>
<li>*italic* or _italics_ = <em>italic</em>
</li>
<li>** bold** or __bold__ = <strong>bold</strong>
</li>
<li>Superscript m^2^ = m<sup>2</sup>
</li>
<li>Subscript CO~2~ = CO<sub>2</sub>
</li>
</ul>
<p>If you don’t like formatting the document by hand, you can use the RStudio visual editor by clicking on the grey <span style="color:grey">Å</span> above the document.</p>
<p>A more complete list is given in the <a href="https://www.rstudio.com/wp-content/uploads/2015/02/rmarkdown-cheatsheet.pdf">R markdown cheat sheet</a>.</p>
</div>
<div id="code-chunks" class="section level2" number="3.3">
<h2>
<span class="header-section-number">3.3</span> Code chunks<a class="anchor" aria-label="anchor" href="#code-chunks"><i class="fas fa-link"></i></a>
</h2>
<p>Code in an R markdown document is contained in code chunks.</p>
<p>This is a code chunk that loads the penguin data from the <code>palmerpenguins</code> package.</p>
<pre><code>```{r import, echo = FALSE}
data(penguins, package = "palmerpenguins)
```</code></pre>
<p>It starts with three back-ticks, followed by braces.
Inside the braces, the “r” indicates that this is a chunk in the R language.
The next word is the optional chunk name.
After the comma are optional chunk arguments.
Then on a new line is the body of the chunk.
The chunk ends with three back-ticks on their own line.</p>
<div id="making-a-chunk" class="section level3" number="3.3.1">
<h3>
<span class="header-section-number">3.3.1</span> Making a chunk<a class="anchor" aria-label="anchor" href="#making-a-chunk"><i class="fas fa-link"></i></a>
</h3>
<p>You can type the back-ticks and braces needed to make a chunk, but it is easier to get RStudio to insert the chunk.
You can do this with the <span style="background-color: green;color:white;"><sup>+</sup>C</span> button or use the keyboard shortcut <kbd>ctrl</kbd>+<kbd>alt</kbd>+<kbd>i</kbd> (on a mac <kbd>Command</kbd>+<kbd>Option</kbd>+<kbd>i</kbd> ).</p>
</div>
<div id="chunk-language" class="section level3" number="3.3.2">
<h3>
<span class="header-section-number">3.3.2</span> Chunk language<a class="anchor" aria-label="anchor" href="#chunk-language"><i class="fas fa-link"></i></a>
</h3>
<p>We will just work with R chunks, but it is possible to run chunks in other languages in RStudio, including Python.</p>
</div>
<div id="chunk-names" class="section level3" number="3.3.3">
<h3>
<span class="header-section-number">3.3.3</span> Chunk names<a class="anchor" aria-label="anchor" href="#chunk-names"><i class="fas fa-link"></i></a>
</h3>
<p>It is a good idea to name chunks.
If you don’t, they will automatically be called “unnamed-chunk-n” where “n” is a incrementing number.
This is inconvenient for debugging (you need to work out which chunk is “unnamed-chunk-37”) and for working with any image files generated by the document.
In section <a href="cross-referencing.html#cross-referencing">6</a> you will see how to use chunk names to cross-reference figures and tables in your document.</p>
<div id="rules-for-naming-chunks" class="section level4" number="3.3.3.1">
<h4>
<span class="header-section-number">3.3.3.1</span> Rules for naming chunks<a class="anchor" aria-label="anchor" href="#rules-for-naming-chunks"><i class="fas fa-link"></i></a>
</h4>
<p>Chunk names should be informative and can contain letters and numbers.
Words should be separated by hyphens (“-”).</p>
<p><strong>Important</strong></p>
<p>Avoid spaces, underscores, and periods in chunk names.
They will cause all sorts of strange problems.</p>
</div>
</div>
<div id="chunk-options" class="section level3" number="3.3.4">
<h3>
<span class="header-section-number">3.3.4</span> Chunk options<a class="anchor" aria-label="anchor" href="#chunk-options"><i class="fas fa-link"></i></a>
</h3>
<p>There are lots of chunk options, but only a few that you will need to use frequently.
Here are some and their default.</p>
<ul>
<li>
<code>echo</code> (TRUE) Show the chunk’s code in the output.</li>
<li>
<code>eval</code> (TRUE) Run the chunk code.</li>
<li>
<code>include</code> (TRUE) Include the output of the chunk in the document.</li>
<li>
<code>message</code> (TRUE) Include messages from R.</li>
<li>
<code>warning</code>(TRUE) Include warnings from R.</li>
<li>
<code>error</code> (FALSE) If TRUE, shows any error message.
If FALSE, stops knitting when there is an error in R code.</li>
</ul>
<p>I leave <code>message</code> and <code>warning</code> as TRUE while I am writing the document, so I can see any possible problems, and set them to FALSE when I knit the final version.</p>
<p>I sometimes find it useful to set <code>error</code> to TRUE as can make it easier to debug any errors in the code.</p>
<p>Chunk options for figures are shown in section <a href="figures-tables-and-equations.html#figure-chunk-options">4.1.1</a>.</p>
<p>Full list <a href="http://yihui.name/knitr/options/" class="uri">http://yihui.name/knitr/options/</a></p>
</div>
<div id="setting-default-chunk-options" class="section level3" number="3.3.5">
<h3>
<span class="header-section-number">3.3.5</span> Setting default chunk options<a class="anchor" aria-label="anchor" href="#setting-default-chunk-options"><i class="fas fa-link"></i></a>
</h3>
<p>Default chunk options can be set for all chunks with <code>knitr::opts_chunk$set</code> in the first chunk.
New R markdown files created by RStudio automatically have this in a chunk called “setup.”</p>
<pre><code>```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```</code></pre>
<p>This chunk sets <code>echo = TRUE</code> for all chunks.
The <code>include=FALSE</code> will stop any output from this chunk being included in the output.</p>
</div>
<div id="running-a-chunk" class="section level3" number="3.3.6">
<h3>
<span class="header-section-number">3.3.6</span> Running a chunk<a class="anchor" aria-label="anchor" href="#running-a-chunk"><i class="fas fa-link"></i></a>
</h3>
<p>Code in chunks will be run when the document is knitted (unless <code>eval = FALSE</code>), but it is also useful to run the code interactively to check that it works.
You can do this by clicking on the green play buttons at the right of the chunk (Fig. <a href="elements-of-an-r-markdown-file.html#fig:run-pic">3.1</a>) or from the Run button above the document.
If the code depends on previous chunks, the grey/green icon will run them all.</p>
<div class="figure">
<span style="display:block;" id="fig:run-pic"></span>
<img src="Pics/run-chunk.png" alt="The green run chunk icon and the grey/green icon to run all previous chunks." width="220px"><p class="caption">
Figure 3.1: The green run chunk icon and the grey/green icon to run all previous chunks.
</p>
</div>
</div>
<div id="hiding-a-chunk" class="section level3" number="3.3.7">
<h3>
<span class="header-section-number">3.3.7</span> Hiding a chunk<a class="anchor" aria-label="anchor" href="#hiding-a-chunk"><i class="fas fa-link"></i></a>
</h3>
<p>If a chunk has a lot of code, it can be useful to hide it to make it easier to navigate the document.
The grey arrow next to the line numbers will do this.
Sections of text can also be hidden.</p>
</div>
<div id="environments-and-working-directory" class="section level3" number="3.3.8">
<h3>
<span class="header-section-number">3.3.8</span> Environments and working directory<a class="anchor" aria-label="anchor" href="#environments-and-working-directory"><i class="fas fa-link"></i></a>
</h3>
<p>R knits R markdown documents in a new R session.
The environment is empty: the R markdown document does not have access to any objects in your current environment (this is a good thing for reproducible analyses).
This means that any data you want to use in the document needs to be imported by the code in the document.</p>
<p>The working directory for the new R session used when knitting the R markdown file is the directory where the file is.
If the file is in the root directory of an RStudio project, relative paths will work the same way in the R markdown document as from the console.
If the file is in a sub-directory, use <code>here::here()</code> to form paths relative to the project root.</p>
</div>
</div>
<div id="inline-code" class="section level2" number="3.4">
<h2>
<span class="header-section-number">3.4</span> Inline code<a class="anchor" aria-label="anchor" href="#inline-code"><i class="fas fa-link"></i></a>
</h2>
<p>In addition to the output from chunks of code, you can insert code directly into text.
Inline code is enclosed by back-ticks and starts with an <code>r</code>.</p>
<p><span style="background-color: Beige;">Seven times six is 42</span></p>
<p>If you want numbers written as words, use the package <code>english</code>.</p>
<p><span style="background-color: Beige;">Seven times six is forty-two</span></p>
<p>It is best to keep inline code short to keep the text readable.
One trick is to do all necessary calculation in a previous chunk, so only the name of the object with the result needs to be in the inline code.
If there are many results to report, consider storing them in a list as in the following example.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">cor_adelie</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/cor.test.html">cor.test</a></span><span class="op">(</span>
  <span class="op">~</span> <span class="va">bill_length_mm</span> <span class="op">+</span> <span class="va">body_mass_g</span>, 
  data <span class="op">=</span> <span class="va">penguins</span>, 
  subset <span class="op">=</span> <span class="va">species</span> <span class="op">==</span> <span class="st">"Adelie"</span><span class="op">)</span>

<span class="va">adelie_list</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>
  <span class="co">#degrees of freedom</span>
  df <span class="op">=</span> <span class="va">cor_adelie</span><span class="op">$</span><span class="va">parameter</span>,
  <span class="co"># extract correlation and round</span>
  est <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Round.html">round</a></span><span class="op">(</span><span class="va">cor_adelie</span><span class="op">$</span><span class="va">estimate</span>, <span class="fl">2</span><span class="op">)</span>,
  <span class="co">#format p.value with an "=" is the first character is not "&lt;". </span>
  <span class="co">#See the characters tutorial for more on the stringr package and regular expressions.</span>
  p_val <span class="op">=</span> <span class="fu">str_replace</span><span class="op">(</span>
    string <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/format.pval.html">format.pval</a></span><span class="op">(</span><span class="va">cor_adelie</span><span class="op">$</span><span class="va">p.value</span>, eps <span class="op">=</span> <span class="fl">0.001</span><span class="op">)</span>,
    pattern <span class="op">=</span> <span class="st">"^(?!&lt;)"</span>, 
    replacement <span class="op">=</span> <span class="st">"= "</span><span class="op">)</span>
<span class="op">)</span></code></pre></div>
<p><span style="background-color: Beige;">Bill length and body mass in Adelie penguins are positively correlated, r = 0.55 (df = 149, p &lt; 0.001).</span></p>
</div>
</div>
  <div class="chapter-nav">
<div class="prev"><a href="getting-started.html"><span class="header-section-number">2</span> Getting started</a></div>
<div class="next"><a href="figures-tables-and-equations.html"><span class="header-section-number">4</span> Figures, tables and equations</a></div>
</div></main><div class="col-md-3 col-lg-2 d-none d-md-block sidebar sidebar-chapter">
    <nav id="toc" data-toggle="toc" aria-label="On this page"><h2>On this page</h2>
      <ul class="nav navbar-nav">
<li><a class="nav-link" href="#elements-of-an-r-markdown-file"><span class="header-section-number">3</span> Elements of an R markdown file</a></li>
<li>
<a class="nav-link" href="#yaml"><span class="header-section-number">3.1</span> YAML</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#r-code-in-yaml"><span class="header-section-number">3.1.1</span> R code in YAML</a></li>
<li><a class="nav-link" href="#output-formats"><span class="header-section-number">3.1.2</span> Output formats</a></li>
</ul>
</li>
<li><a class="nav-link" href="#text"><span class="header-section-number">3.2</span> Text</a></li>
<li>
<a class="nav-link" href="#code-chunks"><span class="header-section-number">3.3</span> Code chunks</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#making-a-chunk"><span class="header-section-number">3.3.1</span> Making a chunk</a></li>
<li><a class="nav-link" href="#chunk-language"><span class="header-section-number">3.3.2</span> Chunk language</a></li>
<li><a class="nav-link" href="#chunk-names"><span class="header-section-number">3.3.3</span> Chunk names</a></li>
<li><a class="nav-link" href="#chunk-options"><span class="header-section-number">3.3.4</span> Chunk options</a></li>
<li><a class="nav-link" href="#setting-default-chunk-options"><span class="header-section-number">3.3.5</span> Setting default chunk options</a></li>
<li><a class="nav-link" href="#running-a-chunk"><span class="header-section-number">3.3.6</span> Running a chunk</a></li>
<li><a class="nav-link" href="#hiding-a-chunk"><span class="header-section-number">3.3.7</span> Hiding a chunk</a></li>
<li><a class="nav-link" href="#environments-and-working-directory"><span class="header-section-number">3.3.8</span> Environments and working directory</a></li>
</ul>
</li>
<li><a class="nav-link" href="#inline-code"><span class="header-section-number">3.4</span> Inline code</a></li>
</ul>

      <div class="book-extra">
        <ul class="list-unstyled">
          
        </ul>
</div>
    </nav>
</div>

</div>
</div> <!-- .container -->

<footer class="bg-primary text-light mt-5"><div class="container"><div class="row">

  <div class="col-12 col-md-6 mt-3">
    <p>"<strong>R Markdown</strong>" was written by Richard J Telford. It was last built on 2021-09-04.</p>
  </div>

  <div class="col-12 col-md-6 mt-3">
    <p>This book was built by the <a class="text-light" href="https://bookdown.org">bookdown</a> R package.</p>
  </div>

</div></div>
</footer><!-- dynamically load mathjax for compatibility with self-contained --><script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script><script type="text/x-mathjax-config">const popovers = document.querySelectorAll('a.footnote-ref[data-toggle="popover"]');
for (let popover of popovers) {
  const div = document.createElement('div');
  div.setAttribute('style', 'position: absolute; top: 0, left:0; width:0, height:0, overflow: hidden; visibility: hidden;');
  div.innerHTML = popover.getAttribute('data-content');

  var has_math = div.querySelector("span.math");
  if (has_math) {
    document.body.appendChild(div);
    MathJax.Hub.Queue(["Typeset", MathJax.Hub, div]);
    MathJax.Hub.Queue(function() {
      popover.setAttribute('data-content', div.innerHTML);
      document.body.removeChild(div);
    })
  }
}
</script>
</body>
</html>
