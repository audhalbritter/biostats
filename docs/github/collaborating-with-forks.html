<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>4 Collaborating with forks | Git and GitHub</title>
<meta name="author" content="Aud Halbritter and Richard J Telford">
<meta name="generator" content="bookdown 0.23 with bs4_book()">
<meta property="og:title" content="4 Collaborating with forks | Git and GitHub">
<meta property="og:type" content="book">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="4 Collaborating with forks | Git and GitHub">
<!-- JS --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://kit.fontawesome.com/6ecbd6c532.js" crossorigin="anonymous"></script><script src="libs/header-attrs-2.10/header-attrs.js"></script><script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="libs/bootstrap-4.6.0/bootstrap.min.css" rel="stylesheet">
<script src="libs/bootstrap-4.6.0/bootstrap.bundle.min.js"></script><script src="libs/bs3compat-0.2.5.1/tabs.js"></script><script src="libs/bs3compat-0.2.5.1/bs3compat.js"></script><link href="libs/bs4_book-1.0.0/bs4_book.css" rel="stylesheet">
<script src="libs/bs4_book-1.0.0/bs4_book.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- CSS --><link rel="stylesheet" href="css/style-chapters.css">
<meta name="description" content="4.1 What is a fork? GitHub is useful for developing your own code, but at some point you might want to collaborate with other people on a project. Or you might come across a GitHub repository that...">
<meta property="og:description" content="4.1 What is a fork? GitHub is useful for developing your own code, but at some point you might want to collaborate with other people on a project. Or you might come across a GitHub repository that...">
<meta name="twitter:description" content="4.1 What is a fork? GitHub is useful for developing your own code, but at some point you might want to collaborate with other people on a project. Or you might come across a GitHub repository that...">
</head>
<body data-spy="scroll" data-target="#toc">

<div class="container-fluid">
<div class="row">
  <header class="col-sm-12 col-lg-3 sidebar sidebar-book"><a class="sr-only sr-only-focusable" href="#content">Skip to main content</a>

    <div class="d-flex align-items-start justify-content-between">
      <h1>
        <a href="index.html" title="">Git and GitHub</a>
      </h1>
      <button class="btn btn-outline-primary d-lg-none ml-2 mt-1" type="button" data-toggle="collapse" data-target="#main-nav" aria-expanded="true" aria-controls="main-nav"><i class="fas fa-bars"></i><span class="sr-only">Show table of contents</span></button>
    </div>

    <div id="main-nav" class="collapse-lg">
      <form role="search">
        <input id="search" class="form-control" type="search" placeholder="Search" aria-label="Search">
</form>

      <nav aria-label="Table of contents"><h2>Table of contents</h2>
        <ul class="book-toc list-unstyled">
<li><a class="" href="index.html"><span class="header-section-number">1</span> Introduction</a></li>
<li><a class="" href="version-control-with-github-and-rstudio.html"><span class="header-section-number">2</span> Version control with GitHub and RStudio</a></li>
<li><a class="" href="working-with-branches.html"><span class="header-section-number">3</span> Working with branches</a></li>
<li><a class="active" href="collaborating-with-forks.html"><span class="header-section-number">4</span> Collaborating with forks</a></li>
</ul>

        <div class="book-extra">
          
        </div>
      </nav>
</div>
  </header><main class="col-sm-12 col-md-9 col-lg-7" id="content"><div id="collaborating-with-forks" class="section level1" number="4">
<h1>
<span class="header-section-number">4</span> Collaborating with forks<a class="anchor" aria-label="anchor" href="#collaborating-with-forks"><i class="fas fa-link"></i></a>
</h1>
<div class="inline-figure"><img src="Pics/fork_branch_tutorial/0_forks_branches.jpg" width="100%"></div>
<div id="what-is-a-fork" class="section level2" number="4.1">
<h2>
<span class="header-section-number">4.1</span> What is a fork?<a class="anchor" aria-label="anchor" href="#what-is-a-fork"><i class="fas fa-link"></i></a>
</h2>
<p>GitHub is useful for developing your own code, but at some point you might want to collaborate with other people on a project.
Or you might come across a GitHub repository that you want to use as a starting point for your own work.
In both cases <strong>forks</strong> are the way to go.</p>
<p>A fork is a copy of somebody’s GitHub repository.
You can fork a repo and work independently of the original project.
Or if you are collaborating with other people you can stay connected with the original repository via <strong>pull requests</strong>.</p>
<p>However, you cannot directly affect (or damage) the original project, which is somewhat less scary, right?
<br><br></p>
<div id="the-workflow-2" class="section level3" number="4.1.1">
<h3>
<span class="header-section-number">4.1.1</span> The workflow<a class="anchor" aria-label="anchor" href="#the-workflow-2"><i class="fas fa-link"></i></a>
</h3>
<p>To understand the <strong>workflow</strong>, let’s see how Angelina and Kingsley collaborate using GitHub (see Figure <a href="collaborating-with-forks.html#fig:github">4.1</a>).</p>
<p>Kingsley owns a GitHub repo.
Angelina <strong>forks</strong> this repo (1) and then <strong>clones</strong> is to her computer (2).
Angelina develops code using <strong>branches</strong> and makes <strong>commits</strong> (3).
Then she <strong>pushes</strong> these changes to her <strong>remote repo</strong> on GitHub (4) and makes a <strong>pull request</strong> to the original repo, which Kingsley <strong>merges</strong> (5).</p>
<p>From now on Angelina will <strong>fetch</strong> (6) and <strong>merge</strong> (7) the newest changes from <strong>upstream</strong> into her local repo and continue the workflow (3-5).</p>
<div class="figure">
<span style="display:block;" id="fig:github"></span>
<img src="Pics/fork_branch_tutorial/1_workflow3.png" alt="GitHub workflow using a fork" width="100%"><p class="caption">
Figure 4.1: GitHub workflow using a fork
</p>
</div>
<p><br><br></p>
</div>
<div id="forking-with-usethis" class="section level3" number="4.1.2">
<h3>
<span class="header-section-number">4.1.2</span> Forking with <code>usethis</code><a class="anchor" aria-label="anchor" href="#forking-with-usethis"><i class="fas fa-link"></i></a>
</h3>
<p>The easiest way to fork a repo on GitHub and clone it to your computer is with the <code>usethis</code> package.
Find the user name and repo name of the repo you want to fork.
To fork and clone the “kingsleyshacklebolt/dragon_study” repo, use</p>
<div class="sourceCode" id="cb20"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://usethis.r-lib.org">usethis</a></span><span class="op">)</span>
<span class="fu"><a href="https://usethis.r-lib.org/reference/create_from_github.html">create_from_github</a></span><span class="op">(</span><span class="st">"kingsleyshacklebolt/dragon_study"</span>, fork <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></code></pre></div>
<p>This will</p>
<ul>
<li>fork the repo, creating a copy in your own GitHub account.</li>
<li>clone your fork of the repo onto your computer.
By default, the clone will be put on your desktop.
You can copy the entire folder to somewhere more convenient, or set the <code>destdir</code> argument.</li>
<li>set up the connections between the clone, your fork and the original repo. You can see these connections in the terminal with the command</li>
</ul>
<div class="sourceCode" id="cb21"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb21-1"><a href="collaborating-with-forks.html#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> remote <span class="at">-v</span></span></code></pre></div>
</div>
<div id="fork-a-repo-on-github" class="section level3" number="4.1.3">
<h3>
<span class="header-section-number">4.1.3</span> Fork a repo on GitHub<a class="anchor" aria-label="anchor" href="#fork-a-repo-on-github"><i class="fas fa-link"></i></a>
</h3>
<p>Sometimes if you only want to make a small change to a repo, it might be more convenient to make a <strong>fork</strong> on GitHub and make all the edits directy on GitHub.</p>
<p>To do this, go to GitHub, log into your account and go to the repository you want to <strong>fork</strong>.</p>
<p>Let us assume that Angelina wants to fork the magic_dragon repo from biostats.
Click on the <strong>fork</strong> button on the top right of the webpage and wait until the repo is forked.</p>
<p><img src="Pics/fork_branch_tutorial/2_fork_repo.png" width="100%"><br><br><br><br></p>
</div>
</div>
<div id="what-is-a-branch-1" class="section level2" number="4.2">
<h2>
<span class="header-section-number">4.2</span> What is a branch?<a class="anchor" aria-label="anchor" href="#what-is-a-branch-1"><i class="fas fa-link"></i></a>
</h2>
<p>You have forked a repository and are ready to start working on the project.
Let’s talk about <strong>branches</strong>.</p>
<p>A <strong>branch</strong> lets you develop code, fix a problem, or test an idea without affecting the original project.
A <strong>branch</strong> is created from an existing <strong>branch</strong>, usually from the <strong>main branch</strong> of the project.
Note that <strong>main branch</strong> was previously named master branch, but removed because of the reference to slavery.
Because of this change you might find references to the old name when looking for help elsewhere.</p>
<p>You can work on a <strong>branch</strong>, bravely develop code that works or does not work and it does not break the code on the <strong>main branch</strong>.
Basically, you can experiment on your own.</p>
<p>If the idea did not work or you have another idea, the <strong>branch</strong> can be deleted and nobody ever needs to know about it.
Make a new <strong>branch</strong> and start all over again.
None of this will affect the original project.</p>
<p>If you are <strong>collaborating</strong> with other people and you have forked a repo you should not work on the <strong>main branch</strong>.
When you change the <strong>main branch</strong> and later update your repo from the original repo, it will cause <strong>merge conflicts</strong>.
Therefore, when collaborating with others, you always work on <strong>branches</strong>, and then you make a <strong>pull requests</strong>.
The maintainer will then review the pull-request and maybe ask for changes in the <strong>current branch</strong>.
When the maintainer is satisfied, the changes in the <strong>current branch</strong> are <strong>merge</strong> to the <strong>main branch</strong> (see <a href="version-control-with-github-and-rstudio.html#trouble-shooting">2.10</a>).</p>
<p>Let’s have a look how to create, use and delete branches.</p>
<div id="make-a-new-branch-in-rstudio-1" class="section level3" number="4.2.1">
<h3>
<span class="header-section-number">4.2.1</span> Make a new branch in RStudio<a class="anchor" aria-label="anchor" href="#make-a-new-branch-in-rstudio-1"><i class="fas fa-link"></i></a>
</h3>
<p>In RStudio, click on the <strong>New Branch</strong> button in the Git tab.
Next to this button it will say on which branch you are.
In this case it is main, which is the default branch.</p>
<p><img src="Pics/fork_branch_tutorial/5_make_new_branch.png" width="100%"><br><br><br><br>
Give the branch a short and informative name (no spaces) and click <strong>Create</strong>.</p>
<p><img src="Pics/fork_branch_tutorial/6_name_branch.png" width="50%"><br><br><br><br>
You are now in the newly created branch.</p>
<div class="inline-figure"><img src="Pics/fork_branch_tutorial/7_new_branch.png" width="100%"></div>
<p>If you want to switch back to the <strong>main branch</strong> or another <strong>branch</strong>, click again on the box in the top corner to switch.
Note that you cannot switch to another branch if you have uncommited changes.
They need to be commited first.
<br><br><br><br></p>
</div>
<div id="code-commit-and-push-to-origin-in-rstudio-1" class="section level3" number="4.2.2">
<h3>
<span class="header-section-number">4.2.2</span> Code, commit and push to origin in RStudio<a class="anchor" aria-label="anchor" href="#code-commit-and-push-to-origin-in-rstudio-1"><i class="fas fa-link"></i></a>
</h3>
<p>Now is the time to work in a new or edit an existing file on the project.
You can work the way it is described in section <a href="version-control-with-github-and-rstudio.html#stage-commit-and-push">2.6</a>.
Write or edit code, test it, <strong>commit</strong> regularly, add a useful commit message.</p>
<p>Once you are done with the task in this <strong>branch</strong>, test it and send your code <strong>upstream</strong> to the original repo, which is described in the next section.</p>
</div>
<div id="make-a-pull-request-on-github" class="section level3" number="4.2.3">
<h3>
<span class="header-section-number">4.2.3</span> Make a pull request on GitHub<a class="anchor" aria-label="anchor" href="#make-a-pull-request-on-github"><i class="fas fa-link"></i></a>
</h3>
<p>Once you have <strong>pushed</strong> your branch back to the <strong>main branch</strong> you can make a <strong>pull request</strong>.
A <strong>pull request</strong> is a request to the maintainer of the <strong>upstream</strong> repository to pull your code into the original repository.</p>
<p>Go to your fork on GitHub (not the upstream repo).
Click on the green box <strong>Compare &amp; pull request</strong> which has appear at the top of the page.
<br><br><br><br><img src="Pics/fork_branch_tutorial/8_pull_request.png" width="100%"><br><br><br><br>
Add a comment about your pull request and click <strong>Create pull request</strong>.
<br><br><br><br><img src="Pics/fork_branch_tutorial/9_create_pull_request.png" width="100%"><br><br><br><br>
Once you have created your <strong>pull request</strong>, GitHub will check if there are any <strong>merge conflict</strong>.
A <strong>merge conflict</strong> can occur when two people are changing the same line in one file differently.
See <a href="version-control-with-github-and-rstudio.html#trouble-shooting">2.10</a> for how to deal with a <strong>merge conflict</strong>.</p>
<p>If no <strong>merge conflict</strong> occurs, GitHub will give green light for merging.
If there is a merge conflict, it has to be resolved before the file can be merged (see <a href="version-control-with-github-and-rstudio.html#trouble-shooting">2.10</a> Trouble shooting).
<br><br><br><br><img src="Pics/fork_branch_tutorial/10_merge_pull_request.png" width="100%"><br><br><br><br>
Now it’s time for you to relax, wait for the response of the repo maintainer and have some cake 🍰, you have earned it!
<br><br><br><br></p>
<div id="excercise-make-pull-request" class="section level4" number="4.2.3.1">
<h4>
<span class="header-section-number">4.2.3.1</span> Excercise: make pull request<a class="anchor" aria-label="anchor" href="#excercise-make-pull-request"><i class="fas fa-link"></i></a>
</h4>
<p>Let’s make a pull request together.
Go to the magic_dragons repo that you forked above, or fork it now.
Open the file called <strong>successfully forked</strong>.</p>
<p>Click on the <strong>main</strong> button to create a new <strong>branch</strong>.
Type a name and click <strong>Create branch: new_name</strong>.</p>
<div class="inline-figure"><img src="Pics/fork_branch_tutorial/10.1_successful_file.png" width="100%"></div>
<p>You are now working on the <strong>new branch</strong>.
Click on the pencil symbol on the right side to edit the file.
Add your name and scroll all the way to the bottom of the page.</p>
<div class="inline-figure"><img src="Pics/fork_branch_tutorial/10.2_add_your_name.png" width="60%"></div>
<p>Type a commit message and make sure you commit to the <strong>new branch</strong> you just made.</p>
<div class="inline-figure"><img src="Pics/fork_branch_tutorial/10.3_commit_to_new_branch.png" width="100%"></div>
<p>Go to the original magic_dragons repo on GitHub and click on the green button <strong>Compare &amp; pull request</strong> and on the next page <strong>Create pull request</strong></p>
<div class="inline-figure"><img src="Pics/fork_branch_tutorial/10.4_another_pull_request.png" width="100%"></div>
<p><br><br>
Now it’s time for you to relax, wait for the response of the repo maintainer and have some cake 🍰, you have earned it!
<br><br><br><br></p>
</div>
</div>
<div id="repo-maintainer-accepts-pull-request-or-not" class="section level3" number="4.2.4">
<h3>
<span class="header-section-number">4.2.4</span> Repo maintainer accepts pull request (or not)<a class="anchor" aria-label="anchor" href="#repo-maintainer-accepts-pull-request-or-not"><i class="fas fa-link"></i></a>
</h3>
<p>The <strong>maintainer</strong> of the original repository will then get notified about your <strong>pull request</strong>.
<br><br><br><br><img src="Pics/fork_branch_tutorial/11_maintainer_view.png" width="100%"></p>
<p>The <strong>maintainer</strong> has to evaluate your changes to the project and can make comments to specific parts of the code, or even <strong>start a review</strong>.
You will get a notification if changes are required and this can go forth and back for a while.
<br><br><br><br><img src="Pics/fork_branch_tutorial/12_comment.png" width="100%"><br><br><br><br>
Eventually, the <strong>maintainer</strong> will <strong>merge</strong> the <strong>pull request</strong> and you will get a notification.
<br><br><br><br><img src="Pics/fork_branch_tutorial/13_confirm_merge.png" width="100%"><br><br><br><br></p>
<div id="excercise-make-pull-request-continues" class="section level4" number="4.2.4.1">
<h4>
<span class="header-section-number">4.2.4.1</span> Excercise: make pull request continues<a class="anchor" aria-label="anchor" href="#excercise-make-pull-request-continues"><i class="fas fa-link"></i></a>
</h4>
<p>Maybe you got a request from Kingsley Shackelbolt about your pull request.
Go ahead and fix it.</p>
<p>If everything was ok, then you are done.</p>
</div>
</div>
<div id="update-your-fork" class="section level3" number="4.2.5">
<h3>
<span class="header-section-number">4.2.5</span> Update your fork<a class="anchor" aria-label="anchor" href="#update-your-fork"><i class="fas fa-link"></i></a>
</h3>
<p>Once your <strong>pull request</strong> has been accepted, you have to update your fork to get the latest changes from <strong>upstream</strong>.</p>
<p>You can do this either on GitHub or in the terminal</p>
<div id="on-github" class="section level4" number="4.2.5.1">
<h4>
<span class="header-section-number">4.2.5.1</span> On GitHub<a class="anchor" aria-label="anchor" href="#on-github"><i class="fas fa-link"></i></a>
</h4>
<p>Go to your fork on GitHub.
Click the “Fetch upstream” link beneath the green “Code” button, then press “Fetch and Merge” in the popup.</p>
<blockquote class="twitter-tweet">
<p lang="en" dir="ltr">
Is your fork behind? You can now sync from the parent repo with just a single click! 🖱💥 <a href="https://t.co/4Zx6OwVTxO">pic.twitter.com/4Zx6OwVTxO</a>
</p>
— GitHub (<span class="citation">@github</span>) <a href="https://twitter.com/github/status/1390382527588798477?ref_src=twsrc%5Etfw">May 6, 2021</a>
</blockquote>
<script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script><p>Now go to RStudio and pull the updates to your computer.
Unless you want to continue working on the same branch, you should now return to the main branch.</p>
</div>
<div id="in-the-terminal" class="section level4" number="4.2.5.2">
<h4>
<span class="header-section-number">4.2.5.2</span> In the terminal<a class="anchor" aria-label="anchor" href="#in-the-terminal"><i class="fas fa-link"></i></a>
</h4>
<p>Go to RStudio and the <strong>Terminal</strong> tab.
<br><br><br><br><img src="Pics/gittutorial/16_terminal.png" width="100%"><br><br><br><br></p>
<p>And type:</p>
<pre><code>git fetch upstream

git checkout main

git merge upstream/main</code></pre>
<p><strong>Fetch</strong> downloads all the changes from <strong>upstream</strong>.
<strong>Checkout main</strong> makes sure your <strong>main branch</strong> is active.
And the last line <strong>merges</strong> the changes with your local repository.
<br><br><br><br></p>
</div>
</div>
<div id="delete-branches-1" class="section level3" number="4.2.6">
<h3>
<span class="header-section-number">4.2.6</span> Delete branches<a class="anchor" aria-label="anchor" href="#delete-branches-1"><i class="fas fa-link"></i></a>
</h3>
<p>Once you have created a couple of <strong>branches</strong>, it will become difficult to track which <strong>branch</strong> you are still working on and which are old.
Generally, you want to delete a <strong>branch</strong> when you are done with it.</p>
<p>To delete a <strong>branch</strong> locally type:</p>
<pre><code>git branch -d community_analysis</code></pre>
<p>To delete the <strong>branch</strong> remotely, type:</p>
<pre><code>git push origin --delete community_analysis</code></pre>
<p><br><br><br><br></p>
</div>
<div id="trouble-shooting-2" class="section level3" number="4.2.7">
<h3>
<span class="header-section-number">4.2.7</span> Trouble shooting<a class="anchor" aria-label="anchor" href="#trouble-shooting-2"><i class="fas fa-link"></i></a>
</h3>
<p><strong>Check configurations in the Terminal</strong></p>
<p>You might want to check the configurations of your repository.
In the <strong>Terminal</strong> you can check the <strong>origin</strong> of your repo, which is from where you <strong>push</strong> and <strong>pull</strong>.
If you have forked a repo it will also show you the <strong>upstream</strong> repo (see <a href="collaborating-with-forks.html#collaborating-with-forks">4</a> Collaborating with forks and branches tutorial for more details).
This will also show you if your <strong>origin</strong> is wrong or the <strong>upstream</strong> repo has not been set.</p>
<p>Go to the <strong>Terminal</strong> tab and type repo type:</p>
<pre><code>git remote -v</code></pre>
<p>The output will look like this:</p>
<pre><code>origin  git@github.com:angelinajohnson/magic_dragons.git (fetch)
origin  git@github.com:angelinajohnson/magic_dragons.git (push)
upstream        git@github.com:biostats-r/magic_dragons.git (fetch)
upstream        git@github.com:biostats-r/magic_dragons.git (push)</code></pre>
<p><br><br></p>
<p><strong>Handle a merge conflict</strong></p>
<p>A <strong>merge conflict</strong> can occur when two people are changing the same line in one file differently.</p>
<p>The goal is to avoid such conflicts and a good strategy fo this is to commit often, work in small steps, push and pull/fetch regular and communicate with the people you are collaborating with.
<strong>Merge conflicts</strong> can easily be avoided if you do not work in the same files.</p>
<p>But <strong>merge conflicts</strong> cannot always be avoided and should it happen that you have one in your pull request, you will get a message to resolve this conflict before the changes can be merge.
First, do not panic and find the files that are conflicting.</p>
<div class="inline-figure"><img src="Pics/fork_branch_tutorial/14_merge_conflict.png" width="100%"></div>
<p>The conflicting file is called dragon_analysis.
Most likely somebody has changed the file in the meantime and you do not have the most recent version of code.
Check the status of this file on the upstream repo.
Fix the changes, so that they are not conflicting anymore, <strong>commit</strong>, <strong>push</strong> and make the <strong>pull request</strong> again.
Now everything should work.</p>
<p><br><br></p>
<p><strong>Prevent from pushing to main</strong></p>
<p>We have already established that when you collaborate on a repo using a fork, never change the <strong>main branch</strong>.
This can be difficult to remember, and there is a way to prevent from committing to <em>main</em>.
Install the package <strong>usethis</strong> if you do not have it already.</p>
<pre><code><a href="https://rdrr.io/r/utils/install.packages.html">install.packages("usethis")</a></code></pre>
<p>Then run this code in your console:</p>
<pre><code><a href="https://usethis.r-lib.org/reference/use_git_hook.html">usethis::use_git_hook(
  hook = "pre-commit",
  script = '#!/bin/sh
  branch="$(git rev-parse --abbrev-ref HEAD)"
  if [ "$branch" = "main" ]; then
  echo "You cannot commit directly to main branch"
  exit 1
  fi'
)</a></code></pre>
<p>From now on if you are trying to commit changes to main it will give you a warning message.
If this happens, make a <strong>new branch</strong>, <strong>commit</strong> the changes and <strong>push</strong>.</p>
<p><br><br><br><br></p>
</div>
<div id="further-reading-1" class="section level3 unnumbered literature toc-ignore">
<h3>Further reading<a class="anchor" aria-label="anchor" href="#further-reading-1"><i class="fas fa-link"></i></a>
</h3>
<p><strong>Happy Git</strong> provides instructions for how to getting started with Git, R and RStudio, explains the workflows and useful tips for when things go wrong.
<a href="https://happygitwithr.com/" class="uri">https://happygitwithr.com/</a></p>
<p>The <strong>Git flight rules</strong> are an exhaustive resource for what to do when things go wrong. <a href="https://github.com/k88hudson/git-flight-rules" class="uri">https://github.com/k88hudson/git-flight-rules</a></p>
</div>
<div id="whats-next-2" class="section level3 facta toc-ignore" number="4.2.8">
<h3>
<span class="header-section-number">4.2.8</span> What’s next<a class="anchor" aria-label="anchor" href="#whats-next-2"><i class="fas fa-link"></i></a>
</h3>
<p>Nothing yet.
Go and eat more cake 🍰</p>
</div>
<div id="contributors-2" class="section level3 unnumbered contributors toc-ignore">
<h3>Contributors<a class="anchor" aria-label="anchor" href="#contributors-2"><i class="fas fa-link"></i></a>
</h3>
<ul>
<li>Aud H. Halbritter</li>
<li>Richard J. Telford</li>
</ul>
</div>
</div>
</div>
  <div class="chapter-nav">
<div class="prev"><a href="working-with-branches.html"><span class="header-section-number">3</span> Working with branches</a></div>
<div class="empty"></div>
</div></main><div class="col-md-3 col-lg-2 d-none d-md-block sidebar sidebar-chapter">
    <nav id="toc" data-toggle="toc" aria-label="On this page"><h2>On this page</h2>
      <ul class="nav navbar-nav">
<li><a class="nav-link" href="#collaborating-with-forks"><span class="header-section-number">4</span> Collaborating with forks</a></li>
<li>
<a class="nav-link" href="#what-is-a-fork"><span class="header-section-number">4.1</span> What is a fork?</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#the-workflow-2"><span class="header-section-number">4.1.1</span> The workflow</a></li>
<li><a class="nav-link" href="#forking-with-usethis"><span class="header-section-number">4.1.2</span> Forking with usethis</a></li>
<li><a class="nav-link" href="#fork-a-repo-on-github"><span class="header-section-number">4.1.3</span> Fork a repo on GitHub</a></li>
</ul>
</li>
<li>
<a class="nav-link" href="#what-is-a-branch-1"><span class="header-section-number">4.2</span> What is a branch?</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#make-a-new-branch-in-rstudio-1"><span class="header-section-number">4.2.1</span> Make a new branch in RStudio</a></li>
<li><a class="nav-link" href="#code-commit-and-push-to-origin-in-rstudio-1"><span class="header-section-number">4.2.2</span> Code, commit and push to origin in RStudio</a></li>
<li><a class="nav-link" href="#make-a-pull-request-on-github"><span class="header-section-number">4.2.3</span> Make a pull request on GitHub</a></li>
<li><a class="nav-link" href="#repo-maintainer-accepts-pull-request-or-not"><span class="header-section-number">4.2.4</span> Repo maintainer accepts pull request (or not)</a></li>
<li><a class="nav-link" href="#update-your-fork"><span class="header-section-number">4.2.5</span> Update your fork</a></li>
<li><a class="nav-link" href="#delete-branches-1"><span class="header-section-number">4.2.6</span> Delete branches</a></li>
<li><a class="nav-link" href="#trouble-shooting-2"><span class="header-section-number">4.2.7</span> Trouble shooting</a></li>
<li><a class="nav-link" href="#further-reading-1">Further reading</a></li>
<li><a class="nav-link" href="#whats-next-2"><span class="header-section-number">4.2.8</span> What’s next</a></li>
<li><a class="nav-link" href="#contributors-2">Contributors</a></li>
</ul>
</li>
</ul>

      <div class="book-extra">
        <ul class="list-unstyled">
          
        </ul>
</div>
    </nav>
</div>

</div>
</div> <!-- .container -->

<footer class="bg-primary text-light mt-5"><div class="container"><div class="row">

  <div class="col-12 col-md-6 mt-3">
    <p>"<strong>Git and GitHub</strong>" was written by Aud Halbritter and Richard J Telford. It was last built on 2021-08-30.</p>
  </div>

  <div class="col-12 col-md-6 mt-3">
    <p>This book was built by the <a class="text-light" href="https://bookdown.org">bookdown</a> R package.</p>
  </div>

</div></div>
</footer>
</body>
</html>
